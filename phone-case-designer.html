<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edge — Custom Phone Case Designer</title>
  <meta name="description" content="Edge is the premium phone case design studio for crafting custom daily carry art with AI and precision controls." />
  <meta property="og:title" content="Edge — Custom Phone Case Designer" />
  <meta property="og:description" content="Edge is the premium phone case studio built for sharp ideas, AI generation, and precise print-ready control." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://edge.design/phone-case-designer" />
  <meta property="og:site_name" content="Edge" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Edge — Custom Phone Case Designer" />
  <meta name="twitter:description" content="Edge is the premium phone case studio built for sharp ideas, AI generation, and precise print-ready control." />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Product",
      "name": "Edge Phone Case Designer",
      "brand": {
        "@type": "Brand",
        "name": "Edge"
      },
      "description": "Edge is the premium phone case studio for crafting custom cases with AI-assisted design tools.",
      "url": "https://edge.design/phone-case-designer"
    }
  </script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap">
  <style>
    :root {
      color-scheme: dark;
      --brand-name: "Edge";
      --bg: #050507;
      --bg-accent: radial-gradient(circle at 18% 22%, rgba(255, 77, 31, 0.16), transparent 55%);
      --bg-accent-2: radial-gradient(circle at 82% 0%, rgba(98, 111, 255, 0.12), transparent 64%);
      --surface: rgba(12, 14, 22, 0.82);
      --surface-solid: #0f111a;
      --surface-soft: rgba(18, 21, 31, 0.72);
      --stroke: rgba(255, 255, 255, 0.08);
      --stroke-soft: rgba(255, 255, 255, 0.04);
      --text-primary: #f4f5ff;
      --text-secondary: #9da3bc;
      --text-tertiary: rgba(244, 245, 255, 0.62);
      --accent: #ff4d1f;
      --accent-strong: #ff6b2c;
      --accent-glow: rgba(255, 77, 31, 0.32);
      --accent-low: rgba(255, 77, 31, 0.14);
      --radius-xl: 36px;
      --radius-lg: 28px;
      --radius-md: 18px;
      --radius-sm: 12px;
      font-size: 16px;
    }
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: "Plus Jakarta Sans", "Inter", "Segoe UI", sans-serif;
      background: var(--bg);
      background-image: var(--bg-accent), var(--bg-accent-2), linear-gradient(180deg, #050507 0%, #090912 55%, #040507 100%);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      letter-spacing: -0.01em;
    }
    img {
      max-width: 100%;
      display: block;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(5, 6, 9, 0.82);
      border-bottom: 1px solid var(--stroke);
      backdrop-filter: blur(24px);
    }
    main {
      margin: 0;
    }
    .container {
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 clamp(1.5rem, 4vw, 4rem);
    }
    .site-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 2rem;
      min-height: 72px;
    }
    .branding {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: inherit;
    }
    .brand-mark {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at 30% 30%, rgba(255, 77, 31, 0.4), transparent 70%), #0c0e16;
      color: var(--text-primary);
      font-weight: 700;
      letter-spacing: 0.08em;
    }
    .branding span {
      font-weight: 700;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      font-size: 0.9rem;
    }
    nav {
      display: flex;
      align-items: center;
      gap: clamp(1rem, 3vw, 1.8rem);
    }
    nav a {
      text-decoration: none;
      font-weight: 500;
      color: var(--text-secondary);
      font-size: 0.95rem;
      position: relative;
      padding-bottom: 0.25rem;
      transition: color 200ms ease;
    }
    nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(135deg, rgba(255, 77, 31, 0.8), rgba(255, 118, 63, 0.4));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 200ms ease;
    }
    nav a:hover,
    nav a:focus-visible {
      color: var(--text-primary);
    }
    nav a:hover::after,
    nav a:focus-visible::after {
      transform: scaleX(1);
    }
    .primary-cta {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      background: linear-gradient(135deg, #ff591f, #ff7a38);
      color: #0b0d13;
      border-radius: 999px;
      padding: 0.8rem 1.8rem;
      font-weight: 700;
      font-size: 0.96rem;
      cursor: pointer;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 26px 50px var(--accent-glow);
      transition: transform 180ms ease, box-shadow 180ms ease, filter 200ms ease;
    }
    .primary-cta:hover,
    .primary-cta:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 32px 70px rgba(255, 77, 31, 0.4);
      filter: brightness(1.05);
    }
    .page {
      display: flex;
      flex-direction: column;
      gap: clamp(3.2rem, 6vw, 6rem);
      padding-bottom: clamp(3rem, 8vw, 6rem);
    }
    .layout-grid {
      display: grid;
      gap: clamp(2.4rem, 5vw, 4rem);
      grid-template-columns: minmax(0, 1fr);
      align-items: flex-start;
    }
    .workspace-column {
      display: flex;
      flex-direction: column;
      gap: clamp(2.5rem, 5vw, 3.5rem);
    }
    .hero-intro {
      padding-top: clamp(4rem, 9vw, 6.5rem);
    }
    .hero-eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.22em;
      font-size: 0.78rem;
      color: var(--accent);
      font-weight: 700;
      margin-bottom: 1rem;
    }
    .hero-intro h1 {
      margin: 0 0 1.6rem;
      font-size: clamp(3rem, 5vw, 4.4rem);
      line-height: 1.04;
      letter-spacing: -0.03em;
    }
    .hero-intro p {
      margin: 0 0 2rem;
      color: var(--text-secondary);
      max-width: 44ch;
      font-size: 1.05rem;
    }
    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 1.15rem;
      align-items: center;
    }
    .secondary-link {
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.35rem 0;
      border-bottom: 1px solid transparent;
      transition: color 180ms ease, border-color 180ms ease;
    }
    .secondary-link:hover,
    .secondary-link:focus-visible {
      color: var(--accent-strong);
      border-color: rgba(255, 77, 31, 0.45);
    }
    .preview-stack {
      display: flex;
      flex-direction: column;
      gap: 1.8rem;
    }
    .preview-rail {
      display: flex;
      flex-direction: column;
      gap: 1.8rem;
    }
    .preview-card {
      background: linear-gradient(160deg, rgba(255, 77, 31, 0.12), rgba(9, 11, 19, 0.88));
      border-radius: var(--radius-lg);
      padding: clamp(1.9rem, 3vw, 2.5rem);
      border: 1px solid var(--stroke);
      box-shadow: 0 38px 80px rgba(8, 10, 18, 0.55);
    }
    .preview-card.dark {
      background: radial-gradient(circle at top, rgba(255, 77, 31, 0.2), transparent 65%), #0d0f17;
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
    }
    .preview-card h3 {
      margin: 0 0 0.75rem;
      font-size: 1.22rem;
    }
    .preview-card p {
      margin: 0 0 1.6rem;
      color: var(--text-secondary);
    }
    .canvas-wrapper {
      position: relative;
      width: min(420px, 92vw);
      margin: 0;
    }
    canvas {
      width: 100%;
      display: block;
      border-radius: 30px;
      background: transparent;
      box-shadow: none;
    }
    .canvas-overlay {
      position: absolute;
      inset: 0;
      border-radius: 30px;
      pointer-events: none;
      border: 2px solid rgba(255, 77, 31, 0.42);
      opacity: 0;
      transition: opacity 250ms ease, border-color 250ms ease;
    }
    .canvas-wrapper.dragging .canvas-overlay,
    .canvas-wrapper.preview-mask .canvas-overlay {
      opacity: 1;
    }
    .canvas-wrapper.preview-mask .canvas-overlay {
      border-color: rgba(255, 118, 63, 0.65);
      box-shadow: 0 0 0 2px rgba(255, 77, 31, 0.28);
    }
    .live-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.78rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--text-tertiary);
      margin-bottom: 1rem;
    }
    .section,
    .workspace-section {
      display: flex;
      flex-direction: column;
      gap: 1.6rem;
    }
    .section-heading {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 1.1rem;
    }
    .section-heading h2 {
      margin: 0;
      font-size: clamp(2.2rem, 3vw, 2.8rem);
      letter-spacing: -0.02em;
    }
    .section-heading p {
      margin: 0;
      color: var(--text-secondary);
      max-width: 44ch;
    }
    .card {
      background: linear-gradient(180deg, rgba(14, 16, 24, 0.92), rgba(9, 10, 16, 0.9));
      border-radius: var(--radius-lg);
      padding: clamp(1.9rem, 3vw, 2.5rem);
      border: 1px solid var(--stroke);
      box-shadow: 0 34px 70px rgba(6, 8, 14, 0.55);
      display: flex;
      flex-direction: column;
      gap: 1.35rem;
    }
    .card h3 {
      margin: 0;
      font-size: 1.42rem;
    }
    .card-subtitle {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.98rem;
    }
    .card-grid {
      display: grid;
      gap: clamp(1.6rem, 4vw, 2.4rem);
    }
    .card-grid.two {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    .card-grid.three {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    label {
      font-size: 0.82rem;
      font-weight: 600;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-tertiary);
    }
    textarea,
    input[type="text"],
    input[type="file"] {
      width: 100%;
      border-radius: var(--radius-sm);
      border: 1px solid var(--stroke-soft);
      padding: 0.95rem 1.1rem;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.02);
      color: var(--text-primary);
      transition: border-color 180ms ease, box-shadow 180ms ease, background 180ms ease;
      font-family: inherit;
      resize: vertical;
    }
    textarea::placeholder,
    input::placeholder {
      color: rgba(244, 245, 255, 0.35);
    }
    textarea:focus,
    input[type="text"]:focus {
      outline: none;
      border-color: rgba(255, 118, 63, 0.65);
      box-shadow: 0 0 0 3px var(--accent-low);
      background: rgba(255, 255, 255, 0.05);
    }
    textarea {
      min-height: 140px;
    }
    .quick-prompts {
      display: flex;
      flex-wrap: wrap;
      gap: 0.85rem;
    }
    button {
      cursor: pointer;
      border: none;
      border-radius: 999px;
      font-size: 0.95rem;
      font-weight: 600;
      padding: 0.75rem 1.45rem;
      transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease, color 160ms ease, border-color 160ms ease;
      font-family: inherit;
    }
    .btn-accent,
    .btn-ghost {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
    }
    .btn-accent {
      background: linear-gradient(135deg, #ff5a22, #ff8342);
      color: #0a0c12;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 20px 44px var(--accent-glow);
    }
    .btn-accent:hover:not(:disabled),
    .btn-accent:focus-visible:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 26px 60px rgba(255, 77, 31, 0.42);
    }
    .btn-ghost {
      background: rgba(255, 255, 255, 0.04);
      color: var(--text-primary);
      border: 1px solid var(--stroke);
    }
    .btn-ghost:hover,
    .btn-ghost:focus-visible {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.18);
      color: var(--accent-strong);
    }
    .quick-prompts button {
      background: rgba(255, 255, 255, 0.04);
      color: var(--text-secondary);
      border: 1px solid rgba(255, 255, 255, 0.06);
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    .quick-prompts button:hover,
    .quick-prompts button:focus-visible {
      color: var(--accent-strong);
      border-color: rgba(255, 118, 63, 0.3);
      background: rgba(255, 118, 63, 0.12);
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    .drop-zone {
      border-radius: var(--radius-lg);
      border: 1px dashed rgba(255, 255, 255, 0.18);
      padding: clamp(2.25rem, 3vw, 3rem);
      text-align: center;
      background: linear-gradient(135deg, rgba(255, 77, 31, 0.14), transparent 65%);
      transition: border-color 160ms ease, background 160ms ease, color 160ms ease;
      color: var(--text-secondary);
      font-weight: 600;
    }
    .drop-zone.dragover {
      border-color: rgba(255, 118, 63, 0.75);
      background: linear-gradient(135deg, rgba(255, 77, 31, 0.22), transparent 70%);
      color: var(--text-primary);
    }
    .controls-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.1rem;
    }
    .control {
      background: rgba(255, 255, 255, 0.04);
      border-radius: var(--radius-md);
      padding: 1.35rem;
      border: 1px solid var(--stroke-soft);
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text-primary);
      text-transform: none;
      letter-spacing: 0.02em;
      display: grid;
      gap: 0.7rem;
      transition: border-color 160ms ease, background 160ms ease, box-shadow 160ms ease;
    }
    .control:hover,
    .control:focus-within {
      border-color: rgba(255, 118, 63, 0.45);
      background: rgba(255, 255, 255, 0.07);
      box-shadow: 0 18px 40px rgba(8, 10, 18, 0.45);
    }
    .control input[type="range"] {
      width: 100%;
      accent-color: var(--accent);
    }
    #dragHint {
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--text-secondary);
    }
    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 600;
      color: var(--text-primary);
      cursor: pointer;
    }
    .toggle input {
      width: 52px;
      height: 28px;
      -webkit-appearance: none;
      appearance: none;
      background: rgba(255, 255, 255, 0.14);
      border-radius: 999px;
      position: relative;
      transition: background 160ms ease;
      border: 1px solid rgba(255, 255, 255, 0.16);
    }
    .toggle input::after {
      content: "";
      position: absolute;
      inset: 4px;
      border-radius: 50%;
      background: #0a0c12;
      box-shadow: 0 6px 12px rgba(10, 12, 18, 0.45);
      transition: transform 160ms ease, background 160ms ease;
    }
    .toggle input:checked {
      background: linear-gradient(135deg, #ff5a22, #ff7f3f);
      border-color: rgba(255, 255, 255, 0.22);
    }
    .toggle input:checked::after {
      transform: translateX(22px);
      background: #ffffff;
    }
    .status {
      min-height: 1.5rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }
    .status.error {
      color: #ff6159;
    }
    .template-list {
      display: grid;
      gap: 1.1rem;
    }
    .template-card {
      display: flex;
      align-items: center;
      gap: 1.1rem;
      padding: 1.15rem 1.4rem;
      border-radius: var(--radius-md);
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid var(--stroke-soft);
      transition: border-color 160ms ease, background 160ms ease, transform 160ms ease;
    }
    .template-card:hover {
      border-color: rgba(255, 118, 63, 0.4);
      background: rgba(255, 118, 63, 0.08);
      transform: translateY(-2px);
    }
    .template-thumb {
      width: 66px;
      height: 132px;
      border-radius: 20px;
      background-size: cover;
      background-position: center;
      flex-shrink: 0;
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
    }
    .template-card button {
      margin-left: auto;
    }
    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 1.15rem;
      align-items: center;
    }
    .final-card {
      background: radial-gradient(circle at 100% 0%, rgba(255, 77, 31, 0.24), transparent 58%), linear-gradient(180deg, rgba(11, 13, 19, 0.92), rgba(7, 8, 13, 0.92));
      color: var(--text-primary);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: var(--radius-lg);
      padding: clamp(2rem, 3vw, 2.7rem);
      box-shadow: 0 44px 92px rgba(5, 7, 12, 0.65);
      display: grid;
      gap: 1.35rem;
    }
    .final-card h3 {
      margin: 0;
      font-size: 1.62rem;
    }
    .final-card p {
      margin: 0;
      color: var(--text-tertiary);
    }
    .final-card .actions .btn-ghost {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.38);
      color: var(--text-primary);
    }
    .final-card .actions .btn-ghost:hover,
    .final-card .actions .btn-ghost:focus-visible {
      color: var(--accent-strong);
      border-color: rgba(255, 118, 63, 0.6);
      background: rgba(255, 118, 63, 0.12);
    }
    .final-card .status {
      color: var(--text-secondary);
    }
    #preview3d {
      width: 100%;
      aspect-ratio: 1;
      border-radius: var(--radius-md);
      background: linear-gradient(160deg, rgba(14, 15, 24, 0.92), rgba(8, 9, 15, 0.8));
      display: grid;
      place-items: center;
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--text-tertiary);
      text-align: center;
      padding: 1.2rem;
    }
    footer {
      padding: clamp(2.4rem, 4vw, 3.5rem) 0 clamp(3.2rem, 6vw, 4.5rem);
      background: #030406;
      color: rgba(244, 245, 255, 0.52);
      text-align: center;
      font-size: 0.92rem;
      letter-spacing: 0.04em;
    }
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
    .loading {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    .spinner {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 2px solid rgba(255, 118, 63, 0.2);
      border-top-color: var(--accent);
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
    @media (min-width: 1100px) {
      .layout-grid {
        grid-template-columns: minmax(0, 1fr) minmax(320px, 420px);
      }
      .preview-rail {
        position: sticky;
        top: clamp(6rem, 9vw, 6.5rem);
        align-self: flex-start;
      }
      .canvas-wrapper {
        margin: 0 auto;
      }
    }
    @media (max-width: 1100px) {
      nav {
        display: none;
      }
      .site-header {
        justify-content: space-between;
      }
      .layout-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .preview-rail {
        position: static;
      }
      .canvas-wrapper {
        margin: 0 auto;
      }
    }
    @media (max-width: 768px) {
      .card-grid.two,
      .card-grid.three {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero-intro h1 {
        font-size: clamp(2.6rem, 8vw, 3.3rem);
      }
      .hero-intro p {
        font-size: 1rem;
      }
    }
    @media (max-width: 600px) {
      .primary-cta {
        width: 100%;
        justify-content: center;
      }
      .actions {
        width: 100%;
      }
      .actions .btn-accent,
      .actions .btn-ghost {
        flex: 1 1 auto;
        justify-content: center;
      }
    }
  </style>
</head>
<body data-brand="Edge">
  <header>
    <div class="container site-header">
      <a class="branding" href="#" aria-label="Edge home">
        <span class="brand-mark">ED</span>
        <span>Edge</span>
      </a>
      <nav aria-label="Primary">
        <a href="#ai">AI Studio</a>
        <a href="#upload">Uploads</a>
        <a href="#controls">Controls</a>
        <a href="#templates-title">Templates</a>
      </nav>
      <a class="primary-cta" href="#ai">Start Designing</a>
    </div>
  </header>
  <main class="page">
    <div class="container layout-grid">
      <div class="workspace-column">
        <section class="workspace-section hero-intro" aria-labelledby="hero-title">
          <p class="hero-eyebrow">Phone Case Studio</p>
          <h1 id="hero-title">Edge turns bold ideas into daily carry art.</h1>
          <p>Edge is the premium phone case studio built for sharp ideas, AI-powered generation, and meticulous, print-ready control.</p>
          <div class="hero-actions">
            <a class="primary-cta" href="#ai">Generate with Gemini</a>
            <a class="secondary-link" href="#upload">Upload your design -></a>
          </div>
        </section>

        <section class="workspace-section" aria-labelledby="ai-section-title">
          <div class="section-heading">
            <h2 id="ai-section-title">Craft with AI or upload instantly</h2>
            <p>Kickstart a new concept with Gemini, remix a template, or import your finished artwork. Everything lives in one studio.</p>
          </div>
          <div class="card-grid two">
            <article class="card" id="ai" aria-labelledby="ai-title">
              <div>
                <h3 id="ai-title">AI Designer</h3>
                <p class="card-subtitle">Describe what you want, pick a preset vibe, and let Gemini sketch it out.</p>
              </div>
              <label for="promptInput">Describe your dream case</label>
              <textarea id="promptInput" placeholder="Neon koi fish swimming through a digital cityscape"></textarea>
              <div class="quick-prompts" role="group" aria-label="Preset styles">
                <button class="btn-ghost" type="button" data-prompt="Minimalist">Minimalist</button>
                <button class="btn-ghost" type="button" data-prompt="Cyberpunk">Cyberpunk</button>
                <button class="btn-ghost" type="button" data-prompt="Nature">Nature</button>
                <button class="btn-ghost" type="button" data-prompt="Abstract">Abstract</button>
                <button class="btn-ghost" type="button" data-prompt="Anime">Anime</button>
              </div>
              <button id="generateBtn" class="btn-accent" type="button">Generate with Gemini</button>
              <div id="aiStatus" class="status" role="status" aria-live="polite"></div>
            </article>

            <article class="card" id="upload" aria-labelledby="upload-title">
              <div>
                <h3 id="upload-title">Upload your artwork</h3>
                <p class="card-subtitle">Drop in PNG, JPG, or WebP files up to 5MB. We'll keep everything crisp for print.</p>
              </div>
              <div id="dropZone" class="drop-zone" role="button" tabindex="0" aria-label="Drop image or browse">Drop image here or click to browse</div>
              <input id="fileInput" class="sr-only" type="file" accept="image/png,image/jpeg,image/webp" aria-hidden="true" />
              <div id="uploadStatus" class="status" role="status" aria-live="polite"></div>
            </article>
          </div>
        </section>

        <section class="workspace-section" id="controls" aria-labelledby="controls-title">
          <div class="section-heading">
            <h2 id="controls-title">Fine-tune every angle</h2>
            <p>Adjust scale, rotation, and opacity on the fly. Drag directly on the canvas or use the precision controls.</p>
          </div>
          <div class="card">
            <div class="controls-grid">
              <label class="control">Position
                <div id="dragHint">Drag design directly on canvas</div>
              </label>
              <label class="control">Scale
                <input id="scaleSlider" type="range" min="0.3" max="2.5" step="0.01" value="1" />
              </label>
              <label class="control">Rotation
                <input id="rotationSlider" type="range" min="-180" max="180" step="1" value="0" />
              </label>
              <label class="control">Opacity
                <input id="opacitySlider" type="range" min="0.2" max="1" step="0.01" value="1" />
              </label>
            </div>
            <label class="toggle">
              <span>Enable 3D preview</span>
              <input id="toggle3d" type="checkbox" />
            </label>
          </div>
        </section>

        <section class="workspace-section" aria-labelledby="templates-title">
          <div class="section-heading">
            <h2 id="templates-title">Quick templates to spark ideas</h2>
            <p>Start from proven compositions, then remix colors, copy, and overlays to make it yours.</p>
          </div>
          <div class="card templates-card">
            <div class="template-list" role="list">
              <article class="template-card" role="listitem">
                <div class="template-thumb" style="background-image: linear-gradient(160deg, #00ffd1, #0069ff);"></div>
                <div>
                  <strong>Gradient Wave</strong>
                  <p class="status">Soft neon gradient ribbons</p>
                </div>
                <button class="btn-ghost" data-template="gradient">Use</button>
              </article>
              <article class="template-card" role="listitem">
                <div class="template-thumb" style="background-image: linear-gradient(115deg, #1f2937 0%, #111827 40%), url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22200%22 viewBox=%220 0 100 200%22%3E%3Crect width=%22100%22 height=%22200%22 fill=%22%23111827%22/%3E%3Cpath d=%22M10 20h80v10H10zM10 60h80v10H10zM10 100h80v10H10zM10 140h80v10H10zM10 180h80v10H10z%22 fill=%22%23222f3f%22/%3E%3C/svg%3E'); background-size: cover;"></div>
                <div>
                  <strong>Geometric Pattern</strong>
                  <p class="status">Clean modular lines</p>
                </div>
                <button class="btn-ghost" data-template="geo">Use</button>
              </article>
              <article class="template-card" role="listitem">
                <div class="template-thumb" style="background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22200%22 viewBox=%220 0 100 200%22%3E%3Crect width=%22100%22 height=%22200%22 fill=%22000233%22/%3E%3Ccircle cx=%2250%22 cy=%2290%22 r=%2230%22 fill=%22%236c2aff%22 opacity=%220.45%22/%3E%3Ccircle cx=%2230%22 cy=%2240%22 r=%2215%22 fill=%22%23fff%22 opacity=%220.75%22/%3E%3Ccircle cx=%2280%22 cy=%22130%22 r=%2220%22 fill=%22%23ff00aa%22 opacity=%220.35%22/%3E%3C/svg%3E'); background-size: cover; background-position: center;"></div>
                <div>
                  <strong>Space Theme</strong>
                  <p class="status">Nebula glow &amp; stars</p>
                </div>
                <button class="btn-ghost" data-template="space">Use</button>
              </article>
            </div>
          </div>
        </section>
      </div>

      <aside class="preview-rail" aria-labelledby="preview-title">
        <div class="preview-stack">
          <section class="preview-card dark" id="preview">
            <div class="live-info">
              <span id="transformInfo">Scale 100% · Rotation 0° · Opacity 100%</span>
              <span>iPhone 15 Pro</span>
            </div>
            <div class="canvas-wrapper" id="canvasWrapper">
              <canvas id="phoneCanvas" width="400" height="800" aria-label="Phone case preview"></canvas>
              <div class="canvas-overlay"></div>
            </div>
          </section>

          <section class="preview-card">
            <h3 id="preview-title">Orbit your concept in 3D</h3>
            <p>Toggle the 3D view to inspect lighting, edges, and camera-ready angles before exporting the final artwork.</p>
            <div id="preview3d">
              <p id="preview3dPlaceholder">Enable 3D preview to orbit the device.</p>
            </div>
          </section>

          <section class="final-card">
            <div>
              <h3>Ready when you are</h3>
              <p>Preview the print mask, export a production-ready PNG, or jump straight to checkout.</p>
            </div>
            <div class="actions">
              <button class="btn-ghost" id="previewBtn" type="button">Preview Mask</button>
              <button class="btn-accent" id="downloadBtn" type="button">Download Design (PNG)</button>
              <a id="orderBtn" class="btn-ghost" href="https://example.com/order" target="_blank" rel="noopener">Order Now</a>
            </div>
            <div id="exportStatus" class="status" role="status" aria-live="polite"></div>
          </section>
        </div>
      </aside>
    </div>
  </main>
  <footer>
    Add your own Gemini API key to unlock instant AI designs, or work offline with manual uploads.
  </footer>
  <script>
    (() => {
      const canvas = document.getElementById('phoneCanvas');
      const ctx = canvas.getContext('2d');
      const caseWidth = canvas.width;
      const caseHeight = canvas.height;
      const cornerRadius = 60;
      const generateBtn = document.getElementById('generateBtn');
      const promptInput = document.getElementById('promptInput');
      const aiStatus = document.getElementById('aiStatus');
      const dropZone = document.getElementById('dropZone');
      const fileInput = document.getElementById('fileInput');
      const uploadStatus = document.getElementById('uploadStatus');
      const scaleSlider = document.getElementById('scaleSlider');
      const rotationSlider = document.getElementById('rotationSlider');
      const opacitySlider = document.getElementById('opacitySlider');
      const transformInfo = document.getElementById('transformInfo');
      const previewBtn = document.getElementById('previewBtn');
      const downloadBtn = document.getElementById('downloadBtn');
      const exportStatus = document.getElementById('exportStatus');
      const canvasWrapper = document.getElementById('canvasWrapper');
      const preview3dContainer = document.getElementById('preview3d');
      const preview3dPlaceholder = document.getElementById('preview3dPlaceholder');
      const toggle3d = document.getElementById('toggle3d');
      const templateButtons = document.querySelectorAll('[data-template]');
      const quickPromptButtons = document.querySelectorAll('[data-prompt]');

      const GEMINI_ENDPOINT = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent';
      const GEMINI_API_KEY = 'AIzaSyBsfKWcYbpEGd7tol6qOAyzc8WIrWPeZ4w';
      const RATE_LIMIT_FALLBACK_MS = 45_000;
      let rateLimitUntil = 0;

      // Centralized UI and rendering state
      const state = {
        image: null,
        imageBitmap: null,
        baseScale: 1,
        transform: {
          scale: 1,
          rotation: 0,
          opacity: 1,
          x: caseWidth / 2,
          y: caseHeight / 2,
        },
        dragging: false,
        dragStart: { x: 0, y: 0 },
        initialPos: { x: 0, y: 0 },
        needsRender: true,
        showMask: false,
        three: {
          enabled: false,
          scene: null,
          renderer: null,
          camera: null,
          controls: null,
          mesh: null,
          texture: null,
          raf: 0,
        },
      };

      // Lightweight WebP templates for instant previews (kept inline for offline use)
      const TEMPLATE_DATA = {
        gradient: 'data:image/webp;base64,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',
        geo: 'data:image/webp;base64,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',
        space: 'data:image/webp;base64,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',
      };

      const templateDescriptions = {
        gradient: 'Neon gradient wave',
        geo: 'Geometric blueprint pattern',
        space: 'Cosmic nebula and stars',
      };

      // Path2D mask keeps artwork perfectly contained within the case outline
      const phoneMaskPath = (() => {
        const path = new Path2D();
        path.moveTo(cornerRadius, 0);
        path.lineTo(caseWidth - cornerRadius, 0);
        path.quadraticCurveTo(caseWidth, 0, caseWidth, cornerRadius);
        path.lineTo(caseWidth, caseHeight - cornerRadius);
        path.quadraticCurveTo(caseWidth, caseHeight, caseWidth - cornerRadius, caseHeight);
        path.lineTo(cornerRadius, caseHeight);
        path.quadraticCurveTo(0, caseHeight, 0, caseHeight - cornerRadius);
        path.lineTo(0, cornerRadius);
        path.quadraticCurveTo(0, 0, cornerRadius, 0);
        path.closePath();
        return path;
      })();

      // Pre-rendered lighting overlay keeps the case feeling three-dimensional while allowing transparent background
      const caseLightingOverlay = (() => {
        const overlay = document.createElement('canvas');
        overlay.width = caseWidth;
        overlay.height = caseHeight;
        const gctx = overlay.getContext('2d');

        gctx.save();
        gctx.clip(phoneMaskPath);

        // Subtle vignette darkens the wrapped edges so artwork feels like it hugs the case
        const edgeDarken = gctx.createRadialGradient(
          caseWidth / 2,
          caseHeight / 2,
          Math.min(caseWidth, caseHeight) * 0.35,
          caseWidth / 2,
          caseHeight / 2,
          Math.max(caseWidth, caseHeight) * 0.65
        );
        edgeDarken.addColorStop(0, 'rgba(0, 0, 0, 0)');
        edgeDarken.addColorStop(1, 'rgba(0, 0, 0, 0.38)');
        gctx.fillStyle = edgeDarken;
        gctx.fillRect(0, 0, caseWidth, caseHeight);

        // Soft vertical highlight simulates a light source sweeping across the curvature
        const verticalSheen = gctx.createLinearGradient(0, 0, 0, caseHeight);
        verticalSheen.addColorStop(0, 'rgba(255, 255, 255, 0.2)');
        verticalSheen.addColorStop(0.25, 'rgba(255, 255, 255, 0.05)');
        verticalSheen.addColorStop(0.5, 'rgba(0, 0, 0, 0)');
        verticalSheen.addColorStop(0.85, 'rgba(0, 0, 0, 0.25)');
        verticalSheen.addColorStop(1, 'rgba(0, 0, 0, 0.35)');
        gctx.fillStyle = verticalSheen;
        gctx.globalCompositeOperation = 'lighter';
        gctx.fillRect(0, 0, caseWidth, caseHeight);

        // Edge glows add a sense of polish along left/right rails
        gctx.globalCompositeOperation = 'source-over';
        const horizontalSheen = gctx.createLinearGradient(0, 0, caseWidth, 0);
        horizontalSheen.addColorStop(0, 'rgba(255, 255, 255, 0.26)');
        horizontalSheen.addColorStop(0.12, 'rgba(255, 255, 255, 0.02)');
        horizontalSheen.addColorStop(0.88, 'rgba(0, 0, 0, 0.18)');
        horizontalSheen.addColorStop(1, 'rgba(0, 0, 0, 0.32)');
        gctx.fillStyle = horizontalSheen;
        gctx.fillRect(0, 0, caseWidth, caseHeight);

        gctx.restore();

        // Crisp rim strokes enhance definition without adding opaque background pixels
        gctx.lineJoin = 'round';
        gctx.lineCap = 'round';
        gctx.lineWidth = 2.4;
        gctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
        gctx.stroke(phoneMaskPath);
        gctx.lineWidth = 6;
        gctx.strokeStyle = 'rgba(0, 0, 0, 0.45)';
        gctx.stroke(phoneMaskPath);

        return overlay;
      })();

      const debounce = (fn, delay = 300) => {
        let timer;
        return (...args) => {
          clearTimeout(timer);
          timer = setTimeout(() => fn.apply(null, args), delay);
        };
      };

      const setLoading = (isLoading) => {
        if (isLoading) {
          generateBtn.disabled = true;
          generateBtn.innerHTML = '<span class="loading"><span class="spinner" aria-hidden="true"></span>Generating…</span>';
        } else {
          generateBtn.disabled = false;
          generateBtn.textContent = 'Generate with Gemini';
        }
      };

      const setStatus = (element, message, type = 'info') => {
        element.textContent = message;
        element.classList.toggle('error', type === 'error');
      };

      const updateTransformInfo = () => {
        const { scale, rotation, opacity } = state.transform;
        const scalePercent = Math.round(scale * 100);
        const opacityPercent = Math.round(opacity * 100);
        transformInfo.textContent = `Scale ${scalePercent}% · Rotation ${Math.round(rotation)}° · Opacity ${opacityPercent}%`;
      };

      const clearCanvas = () => {
        ctx.clearRect(0, 0, caseWidth, caseHeight);
      };

      const drawCaseOverlay = () => {
        ctx.save();
        ctx.drawImage(caseLightingOverlay, 0, 0);
        ctx.restore();
      };

      const drawDesign = () => {
        if (!state.imageBitmap) return;
        ctx.save();
        ctx.clip(phoneMaskPath);
        ctx.translate(state.transform.x, state.transform.y);
        ctx.rotate((state.transform.rotation * Math.PI) / 180);
        const scale = state.baseScale * state.transform.scale;
        ctx.scale(scale, scale);
        ctx.globalAlpha = state.transform.opacity;
        ctx.drawImage(state.imageBitmap, -state.imageBitmap.width / 2, -state.imageBitmap.height / 2);
        ctx.restore();
      };

      const render = () => {
        if (!state.needsRender) return;
        state.needsRender = false;
        clearCanvas();
        drawDesign();
        drawCaseOverlay();
        update3DTexture();
      };

      // requestAnimationFrame loop repaints only when the state is marked dirty
      const renderLoop = () => {
        render();
        requestAnimationFrame(renderLoop);
      };

      const resetTransform = () => {
        state.transform.scale = 1;
        state.transform.rotation = 0;
        state.transform.opacity = 1;
        state.transform.x = caseWidth / 2;
        state.transform.y = caseHeight / 2;
        scaleSlider.value = '1';
        rotationSlider.value = '0';
        opacitySlider.value = '1';
        updateTransformInfo();
      };

      const createImageBitmapSafe = async (img) => {
        try {
          if ('createImageBitmap' in window) {
            return await createImageBitmap(img);
          }
        } catch (err) {
          console.warn('createImageBitmap failed, falling back to <img>', err);
        }
        const canvasTemp = document.createElement('canvas');
        canvasTemp.width = img.width;
        canvasTemp.height = img.height;
        const tempCtx = canvasTemp.getContext('2d');
        tempCtx.drawImage(img, 0, 0);
        return canvasTemp;
      };

      const applyImage = async (img, options = {}) => {
        const { focusPreview = false } = options;
        state.image = img;
        state.imageBitmap = await createImageBitmapSafe(img);
        const coverScale = Math.max(caseWidth / img.width, caseHeight / img.height);
        state.baseScale = coverScale;
        resetTransform();
        state.needsRender = true;
        update3DTexture();
        if (focusPreview && typeof canvasWrapper.scrollIntoView === 'function') {
          requestAnimationFrame(() => {
            canvasWrapper.scrollIntoView({ behavior: 'smooth', block: 'center' });
          });
        }
      };

      const loadImageFromSource = (src, sourceLabel = 'design') => {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.crossOrigin = 'anonymous';
          img.onload = () => resolve(img);
          img.onerror = () => reject(new Error(`Unable to load ${sourceLabel}`));
          img.src = src;
        });
      };

      const validateFile = (file) => {
        const allowed = ['image/png', 'image/jpeg', 'image/webp'];
        if (!allowed.includes(file.type)) {
          throw new Error('Unsupported format. Use PNG, JPG, or WebP.');
        }
        if (file.size > 5 * 1024 * 1024) {
          throw new Error('File too large. Max 5MB.');
        }
      };

      const handleFile = async (file) => {
        try {
          validateFile(file);
          setStatus(uploadStatus, 'Loading image…');
          const dataUrl = await new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = () => resolve(reader.result);
            reader.onerror = () => reject(new Error('Failed to read file'));
            reader.readAsDataURL(file);
          });
          const img = await loadImageFromSource(dataUrl, file.name);
          await applyImage(img, { focusPreview: true });
          setStatus(uploadStatus, 'Image ready. Drag to position.');
        } catch (err) {
          console.error(err);
          setStatus(uploadStatus, err.message, 'error');
        }
      };

      const CACHE_KEY_PREFIX = 'neon-case-lab:';

      const cacheDesign = (prompt, dataUrl) => {
        // Session cache prevents hitting Gemini twice for the same idea
        try {
          const payload = { timestamp: Date.now(), dataUrl };
          sessionStorage.setItem(CACHE_KEY_PREFIX + prompt.trim().toLowerCase(), JSON.stringify(payload));
        } catch (err) {
          console.warn('Cache failed', err);
        }
      };

      const getCachedDesign = (prompt) => {
        try {
          const raw = sessionStorage.getItem(CACHE_KEY_PREFIX + prompt.trim().toLowerCase());
          if (!raw) return null;
          const payload = JSON.parse(raw);
          return payload.dataUrl;
        } catch (err) {
          console.warn('Cache read failed', err);
          return null;
        }
      };

      // Direct Gemini image generation call using the official REST payload
      const generateWithGemini = async (prompt) => {
        const response = await fetch(GEMINI_ENDPOINT, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'x-goog-api-key': GEMINI_API_KEY,
          },
          body: JSON.stringify({
            contents: [{
              parts: [{
                text: `Create a phone case design: ${prompt}. Make it suitable for printing on a phone case. Generate a vibrant, high-quality design.`
              }]
            }],
            generationConfig: {
              temperature: 0.9,
              candidateCount: 1,
            }
          }),
        });
        if (!response.ok) {
          if (response.status === 429) {
            const retryAfterHeader = response.headers.get('retry-after');
            const retryAfterSeconds = retryAfterHeader ? Number(retryAfterHeader) : RATE_LIMIT_FALLBACK_MS / 1000;
            const retryMs = Number.isFinite(retryAfterSeconds) && retryAfterSeconds > 0
              ? retryAfterSeconds * 1000
              : RATE_LIMIT_FALLBACK_MS;
            rateLimitUntil = Date.now() + retryMs;
            const seconds = Math.ceil(retryMs / 1000);
            throw new Error(`Gemini is rate limiting right now. Please wait about ${seconds}s before trying again.`);
          }

          let detail = '';
          try {
            const errorPayload = await response.clone().json();
            detail = errorPayload?.error?.message || errorPayload?.message || '';
          } catch (jsonErr) {
            try {
              detail = await response.clone().text();
            } catch (textErr) {
              // ignored – fall back to generic message
            }
          }
          const message = detail
            ? `${detail} (Status ${response.status})`
            : `Gemini request failed (${response.status}).`;
          throw new Error(message);
        }
        return await response.json();
      };

      const extractImageFromGemini = (payload) => {
        const candidate = payload?.candidates?.[0];
        const parts = candidate?.content?.parts || [];
        for (const part of parts) {
          if (part.inlineData?.data) {
            const mime = part.inlineData.mimeType || 'image/png';
            return `data:${mime};base64,${part.inlineData.data}`;
          }
          if (part.fileData?.fileUri) {
            return part.fileData.fileUri;
          }
        }
        throw new Error('No image returned by Gemini.');
      };

      const handleGeminiGeneration = async () => {
        const prompt = promptInput.value.trim();
        if (!prompt) {
          setStatus(aiStatus, 'Add a prompt first.');
          return;
        }
        const cached = getCachedDesign(prompt);
        if (cached) {
          setStatus(aiStatus, 'Loaded from session cache.');
          const img = await loadImageFromSource(cached, 'cached design');
          await applyImage(img, { focusPreview: true });
          return;
        }

        const now = Date.now();
        if (now < rateLimitUntil) {
          const seconds = Math.ceil((rateLimitUntil - now) / 1000);
          setStatus(aiStatus, `Gemini is cooling down. Try again in ${seconds}s.`, 'error');
          return;
        }

        try {
          setLoading(true);
          setStatus(aiStatus, 'Contacting Gemini…');
          const payload = await generateWithGemini(prompt);
          const dataUrl = extractImageFromGemini(payload);
          const img = await loadImageFromSource(dataUrl, 'Gemini design');
          await applyImage(img, { focusPreview: true });
          rateLimitUntil = 0;
          cacheDesign(prompt, dataUrl);
          setStatus(aiStatus, 'Design ready! Drag to fine-tune.');
        } catch (err) {
          console.error(err);
          setStatus(aiStatus, err.message || 'Gemini generation failed.', 'error');
        } finally {
          setLoading(false);
        }
      };

      const debouncedGemini = debounce(handleGeminiGeneration, 500);

      const pointerPos = (event) => {
        const rect = canvas.getBoundingClientRect();
        return {
          x: ((event.clientX - rect.left) / rect.width) * caseWidth,
          y: ((event.clientY - rect.top) / rect.height) * caseHeight,
        };
      };

      const onPointerDown = (event) => {
        if (!state.imageBitmap) return;
        state.dragging = true;
        canvas.setPointerCapture(event.pointerId);
        const pos = pointerPos(event);
        state.dragStart = pos;
        state.initialPos = { x: state.transform.x, y: state.transform.y };
        canvasWrapper.classList.add('dragging');
      };

      const onPointerMove = (event) => {
        if (!state.dragging) return;
        const pos = pointerPos(event);
        const dx = pos.x - state.dragStart.x;
        const dy = pos.y - state.dragStart.y;
        state.transform.x = state.initialPos.x + dx;
        state.transform.y = state.initialPos.y + dy;
        state.needsRender = true;
      };

      const onPointerUp = (event) => {
        if (!state.dragging) return;
        state.dragging = false;
        canvas.releasePointerCapture(event.pointerId);
        canvasWrapper.classList.remove('dragging');
        state.needsRender = true;
      };

      const applyTemplate = async (key, options = {}) => {
        const dataUrl = TEMPLATE_DATA[key];
        if (!dataUrl) return;
        setStatus(uploadStatus, `Applying template: ${templateDescriptions[key]}`);
        const img = await loadImageFromSource(dataUrl, key);
        await applyImage(img, options);
        setStatus(uploadStatus, 'Template applied. Customize further!');
      };

      const update3DTexture = () => {
        if (!state.three.enabled || !state.three.texture) return;
        state.three.texture.needsUpdate = true;
      };

      // Lazy-load Three.js only when the user opts into the 3D orbit preview
      const init3DPreview = async () => {
        if (state.three.enabled) return;
        preview3dPlaceholder.textContent = 'Loading 3D preview…';
        try {
          await loadThreeCore();
          await loadOrbitControls();
        } catch (err) {
          console.error(err);
          preview3dPlaceholder.textContent = 'Three.js failed to load.';
          toggle3d.checked = false;
          return;
        }

        const THREE = window.THREE;
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x0a0a13);
        const camera = new THREE.PerspectiveCamera(60, 1, 0.1, 1000);
        camera.position.set(0, 0, 3.5);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        const size = preview3dContainer.clientWidth;
        renderer.setSize(size, size, false);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        preview3dContainer.innerHTML = '';
        preview3dContainer.appendChild(renderer.domElement);

        const light = new THREE.HemisphereLight(0xffffff, 0x080820, 1.2);
        scene.add(light);
        const directional = new THREE.DirectionalLight(0xffffff, 0.6);
        directional.position.set(2, 2, 3);
        scene.add(directional);

        const phoneGeometry = new THREE.BoxGeometry(1.9, 4, 0.18, 20, 20, 4);
        const texture = new THREE.CanvasTexture(canvas);
        texture.flipY = false;
        texture.anisotropy = 8;
        const materialFront = new THREE.MeshStandardMaterial({ map: texture, roughness: 0.6, metalness: 0.1 });
        const materialBody = new THREE.MeshStandardMaterial({ color: 0x11131f, roughness: 0.8, metalness: 0.2 });
        const materials = [materialBody, materialBody, materialBody, materialBody, materialFront, materialBody];
        const mesh = new THREE.Mesh(phoneGeometry, materials);
        scene.add(mesh);

        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.minDistance = 2.5;
        controls.maxDistance = 6;
        controls.enablePan = false;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 1.2;

        const handleResize = () => {
          const newSize = preview3dContainer.clientWidth;
          renderer.setSize(newSize, newSize, false);
          camera.aspect = 1;
          camera.updateProjectionMatrix();
        };

        window.addEventListener('resize', handleResize);

        let rafId = 0;
        const animate = () => {
          controls.update();
          renderer.render(scene, camera);
          texture.needsUpdate = true;
          rafId = requestAnimationFrame(animate);
          if (state.three.enabled) {
            state.three.raf = rafId;
          }
        };
        animate();

        state.three = {
          enabled: true,
          scene,
          renderer,
          camera,
          controls,
          mesh,
          texture,
          raf: rafId,
          cleanup: () => {
            cancelAnimationFrame(rafId);
            window.removeEventListener('resize', handleResize);
            renderer.dispose();
            texture.dispose();
            phoneGeometry.dispose();
          },
        };
      };

      const destroy3DPreview = () => {
        if (!state.three.enabled) return;
        state.three.cleanup?.();
        state.three = {
          enabled: false,
          scene: null,
          renderer: null,
          camera: null,
          controls: null,
          mesh: null,
          texture: null,
          raf: 0,
        };
        preview3dContainer.innerHTML = '';
        preview3dContainer.appendChild(preview3dPlaceholder);
      };

      const loadThreeCore = () => new Promise((resolve, reject) => {
        if (window.THREE) {
          resolve();
          return;
        }
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
        script.onload = () => resolve();
        script.onerror = () => reject(new Error('Failed to load three.min.js'));
        document.head.appendChild(script);
      });

      const loadOrbitControls = () => new Promise((resolve, reject) => {
        if (window.THREE?.OrbitControls) {
          resolve();
          return;
        }
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/examples/js/controls/OrbitControls.js';
        script.onload = () => resolve();
        script.onerror = () => reject(new Error('Failed to load OrbitControls'));
        document.head.appendChild(script);
      });

      // Upscale render (~300 DPI) and export the masked design as a PNG
      const performExport = async () => {
        if (!state.imageBitmap) {
          setStatus(exportStatus, 'Add or generate a design first.', 'error');
          return;
        }
        setStatus(exportStatus, 'Preparing high-resolution export…');
        try {
          const EXPORT_SCALE = 300 / 96;
          const exportCanvas = document.createElement('canvas');
          exportCanvas.width = Math.round(caseWidth * EXPORT_SCALE);
          exportCanvas.height = Math.round(caseHeight * EXPORT_SCALE);
          const eCtx = exportCanvas.getContext('2d');
          eCtx.scale(EXPORT_SCALE, EXPORT_SCALE);
          eCtx.clearRect(0, 0, caseWidth, caseHeight);
          eCtx.save();
          eCtx.clip(phoneMaskPath);
          eCtx.translate(state.transform.x, state.transform.y);
          eCtx.rotate((state.transform.rotation * Math.PI) / 180);
          const scale = state.baseScale * state.transform.scale;
          eCtx.scale(scale, scale);
          eCtx.globalAlpha = state.transform.opacity;
          eCtx.drawImage(state.imageBitmap, -state.imageBitmap.width / 2, -state.imageBitmap.height / 2);
          eCtx.restore();
          eCtx.drawImage(caseLightingOverlay, 0, 0);
          const link = document.createElement('a');
          link.download = 'neon-case-design.png';
          link.href = exportCanvas.toDataURL('image/png');
          link.click();
          setStatus(exportStatus, 'PNG downloaded at ~300 DPI.');
        } catch (err) {
          console.error(err);
          setStatus(exportStatus, 'Export failed. Try again.', 'error');
        }
      };

      generateBtn.addEventListener('click', () => debouncedGemini());
      promptInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' && (event.metaKey || event.ctrlKey)) {
          debouncedGemini();
        }
      });

      quickPromptButtons.forEach((btn) => {
        btn.addEventListener('click', () => {
          const preset = btn.dataset.prompt;
          const base = promptInput.value.trim();
          promptInput.value = base ? `${base}, ${preset}` : preset;
          promptInput.focus();
        });
      });

      dropZone.addEventListener('click', () => fileInput.click());
      dropZone.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          fileInput.click();
        }
      });

      dropZone.addEventListener('dragover', (event) => {
        event.preventDefault();
        dropZone.classList.add('dragover');
      });

      dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('dragover');
      });

      dropZone.addEventListener('drop', (event) => {
        event.preventDefault();
        dropZone.classList.remove('dragover');
        const file = event.dataTransfer.files?.[0];
        if (file) handleFile(file);
      });

      fileInput.addEventListener('change', () => {
        const file = fileInput.files?.[0];
        if (file) handleFile(file);
      });

      scaleSlider.addEventListener('input', () => {
        state.transform.scale = parseFloat(scaleSlider.value);
        state.needsRender = true;
        updateTransformInfo();
      });

      rotationSlider.addEventListener('input', () => {
        state.transform.rotation = parseFloat(rotationSlider.value);
        state.needsRender = true;
        updateTransformInfo();
      });

      opacitySlider.addEventListener('input', () => {
        state.transform.opacity = parseFloat(opacitySlider.value);
        state.needsRender = true;
        updateTransformInfo();
      });

      previewBtn.addEventListener('click', () => {
        state.showMask = !state.showMask;
        canvasWrapper.classList.toggle('preview-mask', state.showMask);
        previewBtn.textContent = state.showMask ? 'Hide Mask Preview' : 'Preview Mask';
      });

      downloadBtn.addEventListener('click', performExport);

      toggle3d.addEventListener('change', () => {
        if (toggle3d.checked) {
          init3DPreview();
        } else {
          destroy3DPreview();
        }
      });

      templateButtons.forEach((button) => {
        button.addEventListener('click', () => {
          applyTemplate(button.dataset.template, { focusPreview: true }).catch((err) => {
            console.error('Template load failed', err);
            setStatus(uploadStatus, 'Template failed to load.', 'error');
          });
        });
      });

      canvas.addEventListener('pointerdown', onPointerDown);
      canvas.addEventListener('pointermove', onPointerMove);
      canvas.addEventListener('pointerup', onPointerUp);
      canvas.addEventListener('pointerleave', onPointerUp);
      canvas.addEventListener('pointercancel', onPointerUp);

      renderLoop();
      updateTransformInfo();

      // Provide immediate template for quick start
      applyTemplate('gradient', { focusPreview: false }).catch((err) => {
        console.error('Failed to load default template', err);
        setStatus(uploadStatus, 'Default template failed to load.', 'error');
      });
    })();
  </script>
</body>
</html>
